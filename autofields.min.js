/**
 * @license Autofields v2.2.6
 * (c) 2019 Justin Maier http://justmaier.github.io/angular-autoFields-bootstrap
 * License: MIT
 */
"use strict";angular.module("autofields.core",[]).provider("$autofields",function(){var t={},e={CamelToTitle:function(t){return t.replace(/([A-Z])/g," $1").replace(/^./,function(t){return t.toUpperCase()})},CamelToDash:function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},LabelText:function(t){return t.label||e.CamelToTitle(t.property)}};t.helpers=e,t.settings={classes:{container:[],input:[],label:[]},attributes:{container:{class:"$type"},input:{id:"$property_clean",name:"$property_clean",type:"$type",ngModel:"$data['$property']",placeholder:"$placeholder"},label:{}},container:'<div class="autofields" ng-form name="$form"></div>',scope:{}},t.setAttributes=function(t,n,r,a){angular.forEach(a,function(a,i){a&&"string"==typeof a&&(a=a.replace(/\$form/g,t.formStr).replace(/\$schema/g,t.schemaStr).replace(/\$type/g,n.type||"text").replace(/\$property_clean/g,n.property.replace(/\[|\]|\./g,"")).replace(/\$property/g,n.property).replace(/\$data/g,t.dataStr).replace(/\$placeholder/g,null!=n.placeholder?n.placeholder:e.LabelText(n))),r.attr(e.CamelToDash(i),a)})};var n=function(e,n,r){var a=angular.element("<div/>");return r=angular.extend({},t.settings.attributes.container,e.options.attributes.container,r),t.setAttributes(e,n,a,r),a.addClass((e.options||t.settings).classes.container.join(" ")),a},r=function(n,r,a){var i=angular.element("<label/>");return a=angular.extend({},t.settings.attributes.label,n.options.attributes.label,a),t.setAttributes(n,r,i,a),i.addClass((n.options||t.settings).classes.label.join(" ")),i.html(e.LabelText(r)),i},a=function(e,n,r,a){var i=angular.element(r);return a=angular.extend({},t.settings.attributes.input,e.options.attributes.input,a,n.attr),t.setAttributes(e,n,i,a),i.addClass((e.options||t.settings).classes.input.join(" ")),i};t.field=function(t,e,i,l){var s={fieldContainer:n(t,e),label:""!=e.label?r(t,e):null,input:a(t,e,i,l)};s.fieldContainer.append(s.label).append(s.input);var u=[];return angular.forEach(o,function(n,r){s=n(t,e,s,u),u.push(r)}),s},t.updateScope=function(e){angular.forEach(t.settings.scope,function(t,n){e[n]="function"==typeof t?function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(e),t.apply(this,n)}:t})};var i={};t.registerHandler=function(t,e){t=Array.isArray(t)?t:[t],angular.forEach(t,function(t){i[t]=e})};var o={};return t.registerMutator=function(t,e,n){o[t]&&!n.override||(o[t]=function(r,a,i,l){if(n&&"string"==typeof n.require&&-1==l.indexOf(n.require)&&(i=o[n.require]),-1==l.indexOf(t))return e(r,a,i)})},t.createField=function(t,e,n){var r=null==e.type?i.text:i[e.type];if(null!=r)return r(t,e,n);console.warn(e.type+" not supported - field ignored")},t.$get=function(){return{settings:t.settings,createField:t.createField,updateScope:t.updateScope}},t}).directive("autoFields",["$autofields","$compile",function(t,e){return{restrict:"E",priority:1,replace:!0,compile:function(){return function(n,r,a){var i={schemaStr:a.fields||a.autoFields,optionsStr:a.options,dataStr:a.data,formStr:a.form||"autofields",classes:a.class,container:null,formScope:null},o={extendDeep:function(t){return angular.forEach(arguments,function(e){e!==t&&angular.forEach(e,function(e,n){t[n]&&t[n].constructor&&t[n].constructor===Object?o.extendDeep(t[n],e):t[n]=e})}),t}};i.options=angular.copy(t.settings);var l=function(r){r=r||n[i.schemaStr],i.container.html(""),angular.forEach(r,function(e,n){var r=t.createField(i,e,n);i.container.append(r)}),null!=i.formScope&&i.formScope.$destroy(),i.formScope=n.$new(),i.formScope.data=n[i.dataStr],i.formScope.fields=r,t.updateScope(i.formScope),e(i.container)(i.formScope)};n.$watch(i.optionsStr,function(t,e){o.extendDeep(i.options,t),t!==e&&l()},!0),n.$watch(i.schemaStr,function(t){l(t)},!0),n.$watch(i.formStr,function(t){i.container.attr("name",i.formStr)}),n.$watch(function(){return a.class},function(t){i.classes=a.class,i.container.attr("class",i.classes)}),i.container=angular.element(i.options.container),i.container.attr("name",i.formStr),i.container.attr("class",i.classes),r.replaceWith(i.container)}}}}]),angular.module("autofields.standard",["autofields.core"]).config(["$autofieldsProvider",function(t){t.settings.fixUrl=!0,t.registerHandler(["text","email","url","date","number","password"],function(e,n,r){var a=t.field(e,n,"<input/>"),i=n.fixUrl?n.fixUrl:e.options.fixUrl;return"url"==n.type&&i&&a.input.attr("fix-url",""),a.fieldContainer}),t.settings.defaultOption="Select One",t.registerHandler("select",function(e,n,r){var a='<select><option value="">'+(n.defaultOption?n.defaultOption:e.options.defaultOption)+"</option></select>",i={ngOptions:n.list};return t.field(e,n,a,i).fieldContainer}),t.settings.textareaRows=3,t.registerHandler("textarea",function(e,n,r){var a=n.rows?n.rows:e.options.textareaRows;return t.field(e,n,"<textarea/>",{rows:a}).fieldContainer}),t.registerHandler("checkbox",function(e,n,r){var a=t.field(e,n,"<input/>");return a.label&&a.label.prepend(a.input),a.fieldContainer}),t.settings.displayAttributes=(t.settings.displayAttributes||[]).concat(["ng-if","ng-show","ng-hide"]),t.registerMutator("displayAttributes",function(e,n,r){return n.attr?(angular.forEach(t.settings.displayAttributes,function(t){var e=r.input.attr(t);e&&(r.fieldContainer.attr(t,e),r.input.removeAttr(t))}),r):r})}]).directive("fixUrl",[function(){return{restrict:"A",require:"ngModel",link:function(t,e,n,r){var a=/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w\.\-\?\=\&]*)$/i;e.bind("blur",function(){var t=r.$modelValue;null!=t&&(angular.forEach(r.$formatters,function(e){t=e(t)}),r.$viewValue=t,r.$render())});var i=function(t){if(a.test(t)){var e=t.match(a),n=null!=e[1]&&""!=e[1]?e[1]:"http://";n+=e[2]+"."+e[3],void 0!==e[4]&&(n+=e[4]),t=n}return t};r.$formatters.push(i),r.$parsers.unshift(i)}}}]),angular.module("autofields.validation",["autofields.core"]).config(["$autofieldsProvider",function(t){var e=function(t){return t.replace(/([A-Z])/g," $1").replace(/^./,function(t){return t.toUpperCase()})};t.settings.validation={enabled:!0,showMessages:!0,defaultMsgs:{required:"This field is required",minlength:"This is under minimum length",maxlength:"This exceeds maximum length",min:"This is under the minumum value",max:"This exceeds the maximum value",email:"This is not a valid email address",valid:""},invalid:"$form.$property_clean.$invalid && $form.$property_clean.$dirty",valid:"$form.$property_clean.$valid"},t.settings.attributes.container.ngClass="{'invalid':"+t.settings.validation.invalid+", 'valid':"+t.settings.validation.valid+"}",t.registerMutator("validation",function(t,n,r){return r.validation=t.options.validation.enabled&&!1!==n.validate,r.validation?(r.msgs=[],t.options.validation.showMessages?(angular.forEach(angular.extend({},t.options.validation.defaultMsgs,n.msgs),function(a,i){if(n.msgs&&null!=n.msgs[i]||n.type==i||n.attr&&(null!=n.attr[i]||null!=n.attr["ng"+e(i)])){var o=n.property.replace(/\[|\]|\./g,"");r.msgs.push("("+t.formStr+"."+o+".$error."+i+"? '"+a+"' : '')")}}),r.validMsg=n.msgs&&n.msgs.valid?n.msgs.valid:t.options.validation.defaultMsgs.valid,r.msgs.length,r):r):(r.fieldContainer.removeAttr("ng-class"),r)})}]),angular.module("autofields",["autofields.standard","autofields.validation"]),angular.module("autoFields",["autofields"]);