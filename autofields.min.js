/**
 * @license Autofields v2.2.4
 * (c) 2018 Justin Maier http://justmaier.github.io/angular-autoFields-bootstrap
 * License: MIT
 */
"use strict";angular.module("autofields.core",[]).provider("$autofields",function(){var e={},t={CamelToTitle:function(e){return e.replace(/([A-Z])/g," $1").replace(/^./,function(e){return e.toUpperCase()})},CamelToDash:function(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},LabelText:function(e){return e.label||t.CamelToTitle(e.property)}};e.settings={classes:{container:[],input:[],label:[]},attributes:{container:{class:"$type"},input:{id:"$property_clean",name:"$property_clean",type:"$type",ngModel:"$data.$property",placeholder:"$placeholder"},label:{}},container:'<div class="autofields" ng-form name="$form"></div>',scope:{}};var n=e.setAttributes=function(e,n,a,r){angular.forEach(r,function(r,i){r&&"string"==typeof r&&(r=r.replace(/\$form/g,e.formStr).replace(/\$schema/g,e.schemaStr).replace(/\$type/g,n.type||"text").replace(/\$property_clean/g,n.property.replace(/\[|\]|\./g,"")).replace(/\$property/g,n.property).replace(/\$data/g,e.dataStr).replace(/\$placeholder/g,null!=n.placeholder?n.placeholder:t.LabelText(n))),a.attr(t.CamelToDash(i),r)})},a=function(t,a,r){var i=angular.element("<div/>");return r=angular.extend({},e.settings.attributes.container,t.options.attributes.container,r),n(t,a,i,r),i.addClass((t.options||e.settings).classes.container.join(" ")),i},r=function(a,r,i){var o=angular.element("<label/>");return i=angular.extend({},e.settings.attributes.label,a.options.attributes.label,i),n(a,r,o,i),o.addClass((a.options||e.settings).classes.label.join(" ")),o.html(t.LabelText(r)),o},i=function(t,a,r,i){var o=angular.element(r);return i=angular.extend({},e.settings.attributes.input,t.options.attributes.input,i,a.attr),n(t,a,o,i),o.addClass((t.options||e.settings).classes.input.join(" ")),o};e.field=function(e,t,n,o){var s={fieldContainer:a(e,t),label:""!=t.label?r(e,t):null,input:i(e,t,n,o)};s.fieldContainer.append(s.label).append(s.input);var u=[];return angular.forEach(l,function(n,a){s=n(e,t,s,u),u.push(a)}),s},e.updateScope=function(t){angular.forEach(e.settings.scope,function(e,n){"function"==typeof e?t[n]=function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(t),e.apply(this,n)}:t[n]=e})};var o={};e.registerHandler=function(e,t){e=Array.isArray(e)?e:[e],angular.forEach(e,function(e){o[e]=t})};var l={};return e.registerMutator=function(e,t,n){l[e]&&!n.override||(l[e]=function(a,r,i,o){if(n&&"string"==typeof n.require&&o.indexOf(n.require)==-1&&(i=l[n.require]),o.indexOf(e)==-1)return t(a,r,i)})},e.createField=function(e,t,n){var a=null==t.type?o.text:o[t.type];return null==a?void console.warn(t.type+" not supported - field ignored"):a(e,t,n)},e.$get=function(){return{settings:e.settings,createField:e.createField,updateScope:e.updateScope}},e}).directive("autoFields",["$autofields","$compile",function(e,t){return{restrict:"E",priority:1,replace:!0,compile:function(){return function(n,a,r){var i={schemaStr:r.fields||r.autoFields,optionsStr:r.options,dataStr:r.data,formStr:r.form||"autofields",classes:r.class,container:null,formScope:null},o={extendDeep:function(e){return angular.forEach(arguments,function(t){t!==e&&angular.forEach(t,function(t,n){e[n]&&e[n].constructor&&e[n].constructor===Object?o.extendDeep(e[n],t):e[n]=t})}),e}};i.options=angular.copy(e.settings);var l=function(a){a=a||n[i.schemaStr],i.container.html(""),angular.forEach(a,function(t,n){var a=e.createField(i,t,n);i.container.append(a)}),null!=i.formScope&&i.formScope.$destroy(),i.formScope=n.$new(),i.formScope.data=n[i.dataStr],i.formScope.fields=a,e.updateScope(i.formScope),t(i.container)(i.formScope)};n.$watch(i.optionsStr,function(e,t){o.extendDeep(i.options,e),e!==t&&l()},!0),n.$watch(i.schemaStr,function(e){l(e)},!0),n.$watch(i.formStr,function(e){i.container.attr("name",i.formStr)}),n.$watch(function(){return r.class},function(e){i.classes=r.class,i.container.attr("class",i.classes)}),i.container=angular.element(i.options.container),i.container.attr("name",i.formStr),i.container.attr("class",i.classes),a.replaceWith(i.container)}}}}]),angular.module("autofields.standard",["autofields.core"]).config(["$autofieldsProvider",function(e){e.settings.fixUrl=!0,e.registerHandler(["text","email","url","date","number","password"],function(t,n,a){var r=e.field(t,n,"<input/>"),i=n.fixUrl?n.fixUrl:t.options.fixUrl;return"url"==n.type&&i&&r.input.attr("fix-url",""),r.fieldContainer}),e.settings.defaultOption="Select One",e.registerHandler("select",function(t,n,a){var r=n.defaultOption?n.defaultOption:t.options.defaultOption,i='<select><option value="">'+r+"</option></select>",o={ngOptions:n.list},l=e.field(t,n,i,o);return l.fieldContainer}),e.settings.textareaRows=3,e.registerHandler("textarea",function(t,n,a){var r=n.rows?n.rows:t.options.textareaRows,i=e.field(t,n,"<textarea/>",{rows:r});return i.fieldContainer}),e.registerHandler("checkbox",function(t,n,a){var r=e.field(t,n,"<input/>");return r.label&&r.label.prepend(r.input),r.fieldContainer}),e.settings.displayAttributes=(e.settings.displayAttributes||[]).concat(["ng-if","ng-show","ng-hide"]),e.registerMutator("displayAttributes",function(t,n,a){return n.attr?(angular.forEach(e.settings.displayAttributes,function(e){var t=a.input.attr(e);t&&(a.fieldContainer.attr(e,t),a.input.removeAttr(e))}),a):a})}]).directive("fixUrl",[function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,a){var r=/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w\.\-\?\=\&]*)$/i,i=function(){var e=a.$modelValue;null!=e&&(angular.forEach(a.$formatters,function(t){e=t(e)}),a.$viewValue=e,a.$render())};t.bind("blur",i);var o=function(e){var t=r.test(e);if(t){var n=e.match(r),a=null!=n[1]&&""!=n[1]?n[1]:"http://";a+=n[2]+"."+n[3],"undefined"!=typeof n[4]&&(a+=n[4]),e=a}return e};a.$formatters.push(o),a.$parsers.unshift(o)}}}]),angular.module("autofields.validation",["autofields.core"]).config(["$autofieldsProvider",function(e){var t={CamelToTitle:function(e){return e.replace(/([A-Z])/g," $1").replace(/^./,function(e){return e.toUpperCase()})}};e.settings.validation={enabled:!0,showMessages:!0,defaultMsgs:{required:"This field is required",minlength:"This is under minimum length",maxlength:"This exceeds maximum length",min:"This is under the minumum value",max:"This exceeds the maximum value",email:"This is not a valid email address",valid:""},invalid:"$form.$property_clean.$invalid && $form.$property_clean.$dirty",valid:"$form.$property_clean.$valid"},e.settings.attributes.container.ngClass="{'invalid':"+e.settings.validation.invalid+", 'valid':"+e.settings.validation.valid+"}",e.registerMutator("validation",function(e,n,a){return a.validation=e.options.validation.enabled&&n.validate!==!1,a.validation?(a.msgs=[],e.options.validation.showMessages?(angular.forEach(angular.extend({},e.options.validation.defaultMsgs,n.msgs),function(r,i){if(n.msgs&&null!=n.msgs[i]||n.type==i||n.attr&&(null!=n.attr[i]||null!=n.attr["ng"+t.CamelToTitle(i)])){var o=n.property.replace(/\[|\]|\./g,"");a.msgs.push("("+e.formStr+"."+o+".$error."+i+"? '"+r+"' : '')")}}),a.validMsg=n.msgs&&n.msgs.valid?n.msgs.valid:e.options.validation.defaultMsgs.valid,a.msgs.length,a):a):(a.fieldContainer.removeAttr("ng-class"),a)})}]),angular.module("autofields",["autofields.standard","autofields.validation"]),angular.module("autoFields",["autofields"]);